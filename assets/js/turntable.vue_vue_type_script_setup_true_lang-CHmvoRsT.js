import{_ as J}from"./close-icon-DbMxyuTq.js";import{b as K,M as Z,S as r,c as L,P as q,A as B,_ as O,f as p,o as u,F as ee,v as n,g as T,D as F,u as W,$ as te,Q as i,V as U,X as oe,E as ne}from"./vendor-D2DeR03v.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang-C8G8pr-B.js";import{u as ie,c as ae,d as E,e as se,h as le}from"./index-BkkXKtbl.js";const pe=""+new URL("../png/invite-bg-en-D_HEmb6J.png",import.meta.url).href,ue=""+new URL("../png/invite-bg-g-V9lRPL.png",import.meta.url).href,fe=""+new URL("../png/prize-draw-bg-Cl7MoYeZ.png",import.meta.url).href,ce=""+new URL("../png/prize-draw-icon-Cty8MzNZ.png",import.meta.url).href,de={class:"flex flex-center justify-center relative"},ve={key:0,class:"fixed inset-0 z-50 bg-black/80 flex justify-center items-center"},me={class:"w-90vw rounded-24px box-border px-27px pt-41px pb-33px relative text-center shadow-xl",style:{background:"linear-gradient(180deg, #c5e5ff 0%, #fff 100%)"}},we={class:"text-24px text-[#435462]"},ge={class:"text-30px text-[#1F4360] mt-23px mb-24px font-medium"},he={class:"text-12px text-left text-[#1F4360] mb-40px whitespace-pre-wrap"},xe={class:"flex items-center justify-between"},be={class:"text-12px text-[#1F4360] mr-10px"},_e={class:"bg-[#1295FF] rounded-2px text-white text-16px py-10px w-100px shrink-0"},ye={key:1,class:"fixed inset-0 z-50 bg-black/60 flex justify-center"},ze={class:"relative w-full"},Le={class:"absolute top-470px left-1/2 -translate-x-1/2 w-[338px] text-center text-white text-20px font-semibold py-14px",style:{background:"linear-gradient(90deg, rgba(244, 189, 52, 0) 0%, #da9c04 49.14%, rgba(244, 189, 52, 0) 100%)"}},Se=K({__name:"turntable",emits:["showBotLoginPop","getLotteryWinhistory"],setup(Ue,{expose:P,emit:j}){const w=j,{t:g,locale:k}=Z(),t=ie(),s=r(null),f=r(!1),h=r(!1),c=r(!1),x=r("retry"),d=r(0),b=r([]),l=r(2),_=r(0),v=r(""),N=L(()=>k.value==="en"),V=r({offsetDegree:0}),A=[{padding:"12vw",imgs:[{src:new URL(""+new URL("../png/turntable-bg-g-qmFCQV.png",import.meta.url).href,import.meta.url).href,width:"100%",height:"100%",rotate:!1}]}],R=r([{background:"rgba(255,255,255,0.1)",imgs:[{src:new URL(""+new URL("../png/prize-img-6-CswxU4ou.png",import.meta.url).href,import.meta.url).href,width:"14vw",height:"14vw",top:"6vw"}],fonts:[{text:"0.1USDT",fontColor:"#fff",fontSize:"12px",fontWeight:700,top:"2.5vw"}]},{background:"rgba(255,255,255,0.3)",imgs:[{src:new URL(""+new URL("../png/prize-img-5-DpzGxebu.png",import.meta.url).href,import.meta.url).href,width:"13vw",height:"12vw",top:"7vw"}],fonts:[{text:"0.5USDT",fontColor:"#fff",fontSize:"12px",fontWeight:700,top:"3vw"}]},{imgs:[{src:new URL(""+new URL("../png/prize-img-4-BFrMEbb1.png",import.meta.url).href,import.meta.url).href,width:"13vw",height:"12vw",top:"7vw"}],fonts:[{text:"1USDT",fontColor:"#fff",fontSize:"12px",fontWeight:700,top:"3vw"}]},{background:"rgba(255,255,255,0.3)",imgs:[{src:new URL(""+new URL("../png/prize-img-3-DyEbKkXe.png",import.meta.url).href,import.meta.url).href,width:"13vw",height:"12vw",top:"7vw"}],fonts:[{text:"2USDT",fontColor:"#fff",fontSize:"12px",fontWeight:700,top:"3vw"}]},{background:"rgba(248,219,204,0.2)",imgs:[{src:new URL(""+new URL("../png/prize-img-2-BlSXkTaf.png",import.meta.url).href,import.meta.url).href,width:"10vw",height:"12vw",top:"6.5vw"}],fonts:[{text:"5USDT",fontColor:"#fff",fontSize:"12px",fontWeight:700,top:"2.5vw"}]},{imgs:[{src:new URL(""+new URL("../png/prize-img-1-bg-D-RKtJEr.png",import.meta.url).href,import.meta.url).href,width:"95%",height:"35vw",top:"1vw"},{src:new URL(""+new URL("../png/prize-img-1-DB1elzXb.png",import.meta.url).href,import.meta.url).href,width:"9vw",height:"11vw",top:"7.5vw"}],fonts:[{text:"500USDT",fontColor:"#fff",fontSize:"18px",fontWeight:700,top:"2.5vw"}]}]),M={imgs:[{src:new URL(""+new URL("../png/prize-img-7-DQpwBrNH.png",import.meta.url).href,import.meta.url).href,width:"12vw",height:"14vw",top:"6vw"}]},y=r([]),X=L(()=>[{radius:"42vw",fonts:[{text:g("home.draw"),top:"-10%",fontColor:"#fff",fontSize:"30px",fontWeight:600},{text:g("home.drawLeft",{s:d.value}),top:"12%",fontColor:"#fff",fontSize:"12px",fontWeight:400}],imgs:[{src:new URL(""+new URL("../png/prize-draw-Dpoivhl3.png",import.meta.url).href,import.meta.url).href,top:"-50%",width:"35vw",height:"39vw"}]}]),G=L(()=>k.value==="en"?`üë§ Your Invitation Rewards
 For every new user you invite who registers and joins the event and trade ‚â•20U, you‚Äôll receive 2 extra lucky draw chances.
 You can invite up to 10 friends, earning a maximum of 20 draw chances.
 üëâ Copy and share your exclusive invite link:
 ${v.value}
üéÅ Friend Participation Guide
 When your friend clicks your invitation link, they just need to:

 Download and install the Ave App;
 Bind and log in with their Bot wallet;
 Return to the event page to join and compete for the 1000U airdrop prize!
 üëâ Click to join the event:
 ${location.origin}/entry${location.search}`:`üë§ ÊÇ®ÁöÑÈÇÄËØ∑Â•ñÂä±
 ÊØèÊàêÂäüÈÇÄËØ∑ 1 ‰ΩçÊñ∞Áî®Êà∑Ê≥®ÂÜåÂèÇ‰∏éÊ¥ªÂä®Âπ∂‰∫§ÊòìÊª° 20U ‰ª•‰∏äÔºåÊÇ®ÂèØËé∑Âæó 2 Ê¨°ÊäΩÂ•ñÊú∫‰ºöÔºõ
 ÊØè‰ΩçÁî®Êà∑ÊúÄÂ§öÂèØÈÇÄËØ∑ 10 ‰∫∫ÔºåÊúÄÈ´òÂèØÂæó 20 Ê¨°ÊäΩÂ•ñÊú∫‰ºö„ÄÇ
 üëâ Â§çÂà∂Âπ∂ÂàÜ‰∫´ÊÇ®ÁöÑ‰∏ìÂ±ûÈÇÄËØ∑ÈìæÊé•Ôºö
  ${v.value}

üéÅ Â•ΩÂèãÂèÇ‰∏éÊåáÂºï
 Â•ΩÂèãÁÇπÂáªÊÇ®ÁöÑÈÇÄËØ∑ÈìæÊé•ÂêéÔºåÈúÄÂÆåÊàê‰ª•‰∏ãÊ≠•È™§Ôºö

 ‰∏ãËΩΩÂπ∂ÂÆâË£Ö Ave AppÔºõ
 ÁªëÂÆöÁôªÂΩï Bot Èí±ÂåÖÔºõ
 ËøîÂõûÊ¥ªÂä®È°µÂèÇ‰∏éÊ¥ªÂä®ÔºåÂç≥ÂèØÂä†ÂÖ•ÊäΩÂ•ñÔºå‰∫âÂ§∫ 1000U Á©∫ÊäïÂ§ßÂ•ñÔºÅ
 üëâ ÁÇπÂáªËøõÂÖ•Ê¥ªÂä®È°µÔºö
 ${location.origin}/entry${location.search}`),Q=async()=>{if(!t.userInfo.access_token){w("showBotLoginPop");return}if(d.value<=0){ne({message:g("home.drawCountOver"),type:"warning"});return}s.value.play();try{const o=await le({device_id:t.userInfo.device_id_full||t.userInfo.device_id,wallet_address:t.userInfo.wallet});if(l.value=o.data.prize_type,_.value=o.data.amount,l.value===2||l.value===3)s.value.stop(0);else{const e=b.value.findIndex(a=>a===_.value);e!==-1&&s.value.stop(e+1)}}catch(o){s.value.stop(0),console.log("error",o)}},Y=async()=>{await B(),s.value.init(),[0,1,2,3].includes(l.value)&&([0,1].includes(l.value)&&(C(),w("getLotteryWinhistory")),l.value===2&&(c.value=!0,x.value="fail"),l.value===3&&(c.value=!0,x.value="retry")),z()},D=()=>{if(!t.userInfo.access_token){w("showBotLoginPop");return}h.value=!0},C=()=>{f.value=!f.value,document.body.style.overflow=f.value?"hidden":"visible"},z=async()=>{var e,a;const o=await E({device_id:t.userInfo.device_id_full||t.userInfo.device_id,wallet_address:t.userInfo.wallet});d.value=((e=o.data)==null?void 0:e.remaining_draws)||0,t.amount=((a=o.data)==null?void 0:a.total_win_amount)||0,t.userInfo={...t.userInfo,...o.data}};return q(async()=>{var m,S,I;const o=await ae();if(b.value=((m=o.data)==null?void 0:m.prize)||[],y.value.push({...M}),b.value.forEach((H,$)=>{R.value[$].fonts[0].text=`${H}USDT`,y.value.push({...R.value[$]})}),!t.userInfo.refresh_token)return;const e=await E({device_id:t.userInfo.device_id_full||t.userInfo.device_id,wallet_address:t.userInfo.wallet});t.userInfo={...t.userInfo,...e.data,evm_address:(S=e.data)==null?void 0:S.wallet_address},d.value=((I=e.data)==null?void 0:I.remaining_draws)||0,await B(),s.value.init();const a=await se();v.value=a.data.ref_cide,z()}),P({_getLotteryWinamount:z}),(o,e)=>{const a=O("copy");return u(),p(ee,null,[n("div",de,[T(W(te),{ref_key:"myLucky",ref:s,width:"100vw",height:"100vw",prizes:y.value,blocks:A,buttons:X.value,"default-config":V.value,onStart:Q,onEnd:Y},null,8,["prizes","buttons","default-config"]),n("div",null,[N.value?(u(),p("img",{key:0,onClick:D,class:"absolute bottom-[-15px] left-0 w-143px h-100px z-9",src:pe,alt:""})):(u(),p("img",{key:1,onClick:D,class:"absolute bottom-[-15px] left-0 w-100px h-100px z-9",src:ue,alt:""}))])]),T(re,{type:x.value,visible:c.value,onClose:e[0]||(e[0]=m=>c.value=!1)},null,8,["type","visible"]),h.value?(u(),p("div",ve,[n("div",me,[n("img",{class:"absolute top-[-75px] right-[5px] w-40px h-40px",onClick:e[1]||(e[1]=m=>h.value=!1),src:J,alt:""}),n("div",we,i(W(t).userInfo.walletName),1),n("div",ge,[U(i(o.$t("home.invite")),1),e[2]||(e[2]=n("br",null,null,-1)),U(" "+i(o.$t("home.accelerate")),1),e[3]||(e[3]=n("span",{class:"text-[#FC661B]"},"1000U",-1))]),n("div",he,i(o.$t("home.inviteDesc")),1),n("div",xe,[n("div",be,i(v.value),1),oe((u(),p("div",_e,[U(i(o.$t("home.copyLink")),1)])),[[a,G.value]])])])])):F("",!0),f.value?(u(),p("div",ye,[n("div",ze,[e[4]||(e[4]=n("img",{class:"w-full",src:fe,alt:"ËÉåÊôØ"},null,-1)),e[5]||(e[5]=n("div",{class:"absolute top-[170px] left-1/2 -translate-x-1/2"},[n("img",{class:"w-[300px]",src:ce,alt:"Â•ñÂìÅ"})],-1)),n("div",Le,i(o.$t("home.congratulations"))+i(_.value)+"USDT ",1),n("button",{onClick:C,class:"absolute bottom-[10vh] left-37px right-37px border-none bg-[#FE2504] py-[12px] text-center text-white text-20px font-semibold"},i(o.$t("home.continueDraw")),1)])])):F("",!0)],64)}}});export{Se as _};
