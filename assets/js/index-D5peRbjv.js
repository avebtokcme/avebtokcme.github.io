function g(){const e=navigator.userAgent,t=/Android/i.test(e),a=/iPhone|iPad|iPod/i.test(e)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;return{isAndroid:t,isIOS:a,isMobile:t||a}}function o(){let e=window;return(e==null?void 0:e._tw_)||(e==null?void 0:e.main)}function r(){return new Promise(e=>{var t,a,i;if(window.WKWebViewJavascriptBridge)return e(window.WKWebViewJavascriptBridge);if(window.WKWVJBCallbacks)return window.WKWVJBCallbacks.push(e);window.WKWVJBCallbacks=[e],(i=(a=(t=window.webkit)==null?void 0:t.messageHandlers)==null?void 0:a.iOS_Native_InjectJavascript)==null||i.postMessage(null)})}function s(e,...t){return new Promise(async(a,i)=>{try{(await r()).callHandler("iosJSAPI",{method:e,data:t},l=>a(l))}catch(n){i(n)}})}async function d(e){var i,n,l,c;console.log("trackLog",e);let t=window;const a=btoa(e);if((i=o())!=null&&i.trackLog)return console.log("androidGlobal()?.trackLog"),(n=o())==null?void 0:n.trackLog(a,1);if((c=(l=t==null?void 0:t.webkit)==null?void 0:l.messageHandlers)!=null&&c.iOS_Native_InjectJavascript)return console.log("w?.webkit?.messageHandlers?.iOS_Native_InjectJavascript"),s("trackLog",a,1)}async function w(){var t,a,i,n;let e=window;(t=o())!=null&&t.loginBotWallet?(console.log("androidGlobal()?.loginBotWallet"),(a=o())==null||a.loginBotWallet()):(n=(i=e==null?void 0:e.webkit)==null?void 0:i.messageHandlers)!=null&&n.iOS_Native_InjectJavascript&&(console.log("w?.webkit?.messageHandlers?.iOS_Native_InjectJavascript"),s("loginBotWallet"))}async function v(){var t,a,i,n;let e=window;(t=o())!=null&&t.createBotWallet?(console.log("androidGlobal()?.createBotWallet"),(a=o())==null||a.createBotWallet()):(n=(i=e==null?void 0:e.webkit)==null?void 0:i.messageHandlers)!=null&&n.iOS_Native_InjectJavascript&&(console.log("w?.webkit?.messageHandlers?.iOS_Native_InjectJavascript"),s("createBotWallet"))}function f(e){var a,i,n;let t=window;(a=o())!=null&&a.onReceiveTitle?o().onReceiveTitle(e):(n=(i=t==null?void 0:t.webkit)==null?void 0:i.messageHandlers)!=null&&n.iOS_Native_InjectJavascript&&(console.log("w?.webkit?.messageHandlers?.iOS_Native_InjectJavascript"),s("setTitle",e))}function b(){var t,a;let e=window;(a=(t=e==null?void 0:e.webkit)==null?void 0:t.messageHandlers)!=null&&a.iOS_Native_InjectJavascript&&s("switchToBotWallet")}async function u(e=0){var a,i,n,l;let t=window;return(a=o())!=null&&a.getDeviceInfo?(console.log("androidGlobal()?.getDeviceInfo"),JSON.parse(((i=o())==null?void 0:i.getDeviceInfo(e))||"null")):(l=(n=t==null?void 0:t.webkit)==null?void 0:n.messageHandlers)!=null&&l.iOS_Native_InjectJavascript?(console.log("w?.webkit?.messageHandlers?.iOS_Native_InjectJavascript"),await s("getDeviceInfo",String(e))):null}export{u as a,b,v as c,g,w as l,f as s,d as t};
